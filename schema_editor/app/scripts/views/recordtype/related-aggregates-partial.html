<div class="form-area">
    <div class="col-sm-8 col-sm-offset-3">
        <ase-notifications></ase-notifications>
        <div class="form-area-heading">
            <h2>Cost aggregation settings</h2>
            <div class="content-border"></div>
        </div>

        <form name="rtForm" novalidate ng-submit="rtRelated.submitForm()">
            <div class="row">
                <div class="form-group col-sm-2">
                    <label for="cost-prefix">Cost Prefix</label>
                    <input type="text" id="cost-prefix" name="cost_prefix"
                           ng-model="rtRelated.costPrefix"
                           class="form-control" placeholder="None"
                           ng-maxlength="6">
                    <p ng-show="rtForm.cost_prefix.$error.maxlength" class="help-block">
                        Cost prefix too long
                    </p>
                </div>
                <div class="form-group col-sm-2">
                    <label for="cost-suffix">Cost Suffix</label>
                    <input type="text" id="cost-suffix" name="cost_suffix"
                           ng-model="rtRelated.costSuffix"
                           class="form-control" placeholder="None"
                           ng-maxlength="6">
                    <p ng-show="rtForm.cost_suffix.$error.maxlength" class="help-block">
                        Cost suffix too long
                    </p>
                </div>
                <div class="form-group col-sm-3">
                    <label for="content-type">Related Content Type</label>
                    <select id="content-type" name="ContentType"
                            class="form-control"
                            ng-model="rtRelated.selectedContentType"
                            ng-options="definition.definition.plural_title
                                        for definition in rtRelated.contentDefinitions
                                        track by definition.contentTypeKey"
                            ng-change="rtRelated.populatePropertyKeys()" required></select>
                </div>
                <div class="form-group col-sm-3">
                    <label for="property-key">Field</label>
                    <select id="property-key" name="Field"
                            class="form-control"
                            ng-model="rtRelated.selectedPropertyKey"
                            ng-options="property.propertyKey
                                        for property in rtRelated.contentPropertyPairs
                                        track by property.propertyKey"
                            ng-change="rtRelated.populateEnumFields()" required></select>
                </div>
            </div>
            <div class="row" ng-repeat="enumField in rtRelated.enumFields">
                <div class="form-group col-sm-3">
                    <label for="enum-{{ enumField.field }}">{{ enumField.field }}</label>
                    <input type="text" class="form-control" id="enum-{{ enumField.field }}"
                           ng-model="enumField.value"/>
                </div>
            </div>
            <div class="row">
                <div class="save-area">
                    <button type="submit"  class="btn btn-default"
                            ng-disabled="rtForm.$invalid || !rtRelated.enumFields">
                        Save
                    </button>
                    <button type="button" class="btn btn-default"
                            ng-click="rtRelated.reset()">
                        Cancel
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
